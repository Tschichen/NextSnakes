{
    "WORKFLOWS": "MAPPING,TRIMMING,QC", #which workflows do you want to run
    "POSTPROCESSING" : "COUNTING,DE,UCSC,PEAKS,ANNOTATE", # no specific order needed
    "REFERENCE": "GENOMES", #where to find the reference genomes
    "BINS": "snakes/scripts", #where to find the scripts used in the workflow, if you soft-link the snake git to Workflow, use this path
    "MAXTHREADS": "20", #maximum number of cores to use
    "GENOME": { #which genomes to use and how the reference fasta is named, key is subdir of REFERENCE and value is name of fasta
                "Dm6": "dm6"
              },
    "NAME": { #extension for genome file name in case different typed of reference are used, e.g. genomic, artificial, organelle ...
              "Dm6": {#first key should be same than for GENOME
                      "unpaired": { #Whatever identifier you want to use for this dataset e.g. Date, Labname, treatment, ...
                                    "bwa": ""  #Key is identifier for this set of options, e.g. mapper name, standard, fancynewmethod, ... Value is either empty or can be a string that is part of the genome name, e.g. extended, artificial ...
                                  },
                      "paired": { #Whatever identifier you want to use for this dataset e.g. Date, Labname, treatment, ...
                                  "bwa": ""  #Key is identifier for this set of options, e.g. mapper name, standard, fancynewmethod, ... Value is either empty or can be a string that is part of the genome name, e.g. extended, artificial ...
                                }
                     }
            },
    "SOURCE": {  #which organisms are to be parsed for which samples
                 "Dm6": { #key is subdir of REFERENCE, see GENOME, you can specify which genomes to use for which dataset identifier, e.g. bwa with setting bwa will use dm6 here
                          "unpaired": {
                              "bwa": "Dm6"
                          },
                          "paired": {
                              "bwa": "Dm6"
                          }
                        }
              },
    "SAMPLES": {  #which samples to analyze
                  "Dm6": { #key for source and genome
                           "unpaired": {      # sample id
                                              "bwa": ["GSM461177_untreat_paired_subset_r1","GSM461177_untreat_paired_subset_r2"] # setup and list of samples you whish to analyze
                                       },
                           "paired": {      # sample id
                                            "bwa": ["GSM461177_untreat_paired_subset"] # setup and list of samples you whish to analyze
                                     },
                         }
               },
    "SEQUENCING" : {
        "Dm6": { #key for source and genome
                 "unpaired": {      # sample id
                                    "bwa": "single" # setup and sequencing type, either paired or single
                             },
                 "paired": {      # sample id
                                  "bwa": "paired,fr" # setup and sequencing type, either paired or single
                           }
               }
    },
#QC options
    "QC": {
        "RUN": "ON", #set to 'OFF' to skip QC
        "Dm6": { #key for source and genome
                 "unpaired": {      # sample id
                                    "bwa": {
                                        "ENV" : "fastqc",  # name of conda env for QC
                                        "BIN" : "fastqc", # binary for trimming
                                        "OPTIONS":
                                        [
                                            {}
                                        ]
                                    }
                             },
                 "paired": {      # sample id
                                  "bwa": {
                                      "ENV" : "fastqc",  # name of conda env for QC
                                      "BIN" : "fastqc", # binary for trimming
                                      "OPTIONS":
                                      [
                                          {}
                                      ]
                                  }
                           }
               }
    },
#Trimming options
    "TRIMMING": { #options for trimming for each sample/condition
                  "RUN": ON", # set to 'OFF' if no trimming wanted
        "Dm6": {
            "unpaired": {
                "bwa": { # See above
                    "ENV": "trimgalore", # name of conda env for trimming
                    "BIN": "trim_galore", # name of binary for trimming
                    "OPTIONS":
                    [
                        {  # trimming options here, --paired is not required, will be resolved by rules
                            "-q": "15",
                            "--length": "8", #READ_MINLEN discard reads shorter than that
                            "-e": "0.15"
                        }
                    ]
                }
            },
            "paired": {
                "bwa": { # See above
                    "ENV": "trimgalore", # name of conda env for trimming
                    "BIN": "trim_galore", # name of binary for trimming
                    "OPTIONS":
                    [
                        {  # trimming options here, --paired is not required, will be resolved by rules
                            "-q": "15",
                            "--length": "8", #READ_MINLEN discard reads shorter than that
                            "-e": "0.15"
                        }
                    ]
                }
            }
        }
    },
#Mapping software options
    "MAPPING": { #options for mapping for each sample/condition
                 "Dm6": {
                     "unpaired": {
                         "bwa": {# first entry in list is a dict of options, second can be e.g. appendix to index name, useful especially with minimap if using different kmer sizes
                    "ENV": "bwa", # which conda env to use for mapping
                    "BIN": "bwa mem", #how the mapper binary is called, and also mem,aln,samse,sampe,bwasw
                    "ANNOTATION": "dm6.gff3.gz", #should only be relevant for star, but who knows
                    "OPTIONS":
                         [
                             {
                                 "-a": "bwtsw"
                             }, #indexing options
                             {#mapping options, be careful with -C option, may cause problems when format of fastq is not correct
                                 "-a": ""
                             },
                             "std" #name extension for index, useful to discriminate between eg std and bisulfite seg index
                         ]
                     }
                 },
                 "paired": { # DO NOT USE -p flag! This will assume you have both read sets in one file which should not be the case
                    "bwa": {# first entry in list is a dict of options, second can be e.g. appendix to index name, useful especially with minimap if using different kmer sizes
                    "ENV": "bwa", # which conda env to use for mapping
                    "BIN": "bwa mem", #how the mapper binary is called, and also mem,aln,samse,sampe,bwasw
                    "ANNOTATION": "dm6.gff3.gz",
                    "OPTIONS":
                         [
                             {
                                 "-a": "bwtsw"
                             }, #indexing options
                             {#mapping options, be careful with -C option, may cause problems when format of fastq is not correct
                                 "-a": ""
                             },
                             "std" #name extension for index, useful to discriminate between eg std and bisulfite seg index
                         ]
                     }
                 }
               }
    },
    #Count options
    "COUNTING": { #options for trimming for each sample/condition
                  "FEATURES": { #which features to count (KEY) and which group they belong to (VALUE)
                      "exon": "Parent",
                      "gene": "ID"
                  },
         "Dm6": {
            "unpaired": {
                "bwa": {# See above
                    "ENV": "countreads", #see QC
                    "BIN": "featureCounts",
                    "ANNOTATION": "dm6.gff3.gz",
                    "OPTIONS":
                    [
                        {  # counting options here, --paired is not required, will be resolved by rules, annotation is resolved from Annotation options
                           "-f": "",
                           "--fraction": "",
                           "-p": "",
                           "-O": "",
                           "-M": "",
                           "-T": "5"
                        }
                    ]
               }
           },
            "paired": {
                "bwa": {# See above
                    "ENV": "countreads", #see QC
                    "BIN": "featureCounts",
                    "ANNOTATION": "dm6.gff3.gz",
                    "OPTIONS":
                    [
                        {  # counting options here, --paired is not required, will be resolved by rules, annotation is resolved from Annotation options
                           "-f": "",
                           "--fraction": "",
                           "-p": "",
                           "-O": "",
                           "-M": "",
                           "-T": "5"
                        }
                    ]
               }
           }
       }
    },
    #Annotation options
    "ANNOTATE" : {
         "Dm6": {
            "unpaired": {
                "bwa": { # See above
                    "ENV": "annotatebed",
                    "BIN": "annotate", #dummy as annotate.smk has no direct bin but we need the key
                    "ANNOTATION": "dm6.gff3.gz", #should only be relevant for star, but who knows
                    "ANNOFEATURE": "gene", #You can specify a set of certain features to annotate here, e.g. 'exon' or 'gene'
                    "OPTIONS":
                    [
                        {
                            "-w": "ON" #-w ON enables one line per feature annotation, including start/end of the feature, output can become quite large, disable by adding empty string ("") as value or remove the line
                        }
                    ]
                }
            },
            "paired": {
                "bwa": { # See above
                    "ENV": "annotatebed",
                    "BIN": "annotate", #dummy as ucsc has no direct bin but we need the key
                    "ANNOTATION": "dm6.gff3.gz", #should only be relevant for star, but who knows
                    "ANNOFEATURE": "gene", #You can specify a set of certain features to annotate here, e.g. 'exon' or 'gene'
                    "OPTIONS":
                    [
                        {
                            "-w": "ON" #-w ON enables one line per feature annotation, including start/end of the feature, output can become quite large, disable by adding empty string ("") as value
                        }
                    ]
                }
            }
         }
     },
#UCSC track generation options
    "UCSC" : {
         "Dm6": {
            "unpaired": {
                "bwa": { # See above
                    "ENV" : "ucsc",
                    "BIN" : "ucsc", #dummy as ucsc has no direct bin but we need the key
                    "ANNOTATION": "dm6.gff3.gz",
                    "OPTIONS":
                    [
                        {
                          "-n" : "DM6_Standard_Mapping", #name of the hub, replace space with _
                          "-s" : "dm6_st", #short name for hub, replace space with _
                          "-l" : "UCSC_DM6_Standard_Mapping", #long name for track, replace space with _
                          "-b" : "UCSC_dm6_bwa" #short name for track, replace space with _
                       }
                    ]
                }
            },
            "paired": {
                "bwa": { # See above
                    "ENV" : "ucsc",
                    "BIN" : "ucsc", #dummy as ucsc has no direct bin but we need the key
                    "ANNOTATION": "dm6.gff3.gz",
                    "OPTIONS":
                    [
                        {
                          "-n" : "DM6_paired_Mapping", #name of the hub, replace space with _
                          "-s" : "dm6_st", #short name for hub, replace space with _
                          "-l" : "UCSC_DM6_paired_Mapping", #long name for track, replace space with _
                          "-b" : "UCSC_dm6_bwa" #short name for track, replace space with _
                       }
                    ]
                }
            }
         }
     },
#Peak finding options
    "PEAKS" : {
         "Dm6": {
            "unpaired": {
                "bwa": { # See above
                    "ENV" : "peaks",
                    "BIN" : "peaks", #dummy as ucsc has no direct bin but we need the key
                    "ANNOTATION": "dm6.gff3.gz",
                    "CLIP": "iCLIP",
                    "OPTIONS":
                    [
                      {
                        "MINPEAKRATIO": "0.6",
                        "PEAKDISTANCE": "1",
                        "PEAKWIDTH": "5",
                        "PEAKCUTOFF": "0.8",
                        "MINPEAKHEIGHT": "3",
                        "USRLIMIT": "3"
                      }
                   ]
                }
            },
            "paired": {
                "bwa": { # See above
                    "ENV" : "peaks",
                    "BIN" : "peaks", #dummy as ucsc has no direct bin but we need the key
                    "ANNOTATION": "dm6.gff3.gz",
                    "CLIP": "revCLIP",
                    "OPTIONS":
                    [
                      {
                        "MINPEAKRATIO": "0.6",
                        "PEAKDISTANCE": "1",
                        "PEAKWIDTH": "5",
                        "PEAKCUTOFF": "0.8",
                        "MINPEAKHEIGHT": "3",
                        "USRLIMIT": "3"
                      }
                   ]
                }
            }
         }
     },
    #DE options
    "DE": { #options for trimming for each sample/condition
            "Dm6": {
                "unpaired": {
                    "bwa": {# See above
                             "ENV": "deseq2", #see QC
                             "BIN": "deseq2",
                             "CONDITION":  ["WT","WT"],
                             "REPLICATES": ["GSM461177_untreat_paired_subset_r1","GSM461177_untreat_paired_subset_r2"],
                             "OPTIONS":
                             [
                                 {  #Should not be needed
                                 }
                             ]
                            }
                },
                "paired": {
                    "bwa": {# See above
                             "ENV": "deseq2", #see QC
                             "BIN": "deseq2",
                             "CONDITION":  ["KO","KO"],
                             "REPLICATES": ["GSM461177_untreat_paired_subset","GSM461177_untreat_paired_subset"],
                             "OPTIONS":
                             [
                                 {  #Should not be needed
                                 }
                             ]
                            }
                }
            }
          }
}
